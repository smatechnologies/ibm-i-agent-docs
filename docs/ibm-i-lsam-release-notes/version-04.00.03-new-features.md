---
sidebar_label: 'Version 04.00.03 New Features'
---

# Version 04.00.03 New Features

## 2017 December
| Enhancements     | Description |
| ---------------- | ----------- |
| Enhancement      | (#403317)Two IBM i LSAM reference data files were refreshed as included with the LI040006 install file. Existing installs can update the files SMALOOKUP (used to label fields in the LSAM log detail views) and PGMREF (used to support the technical analysis tools DSPOBJWU and REFFLOW) by installing this PTF. This PTF is not required by new installs that used the LI040006 install file, however, if there should be additional emergency patches needed by all users, it does not matter that this PTF will be applied to those new installs. |
| Enhancement      | (#403318, 403319) Previous IBM i LSAM Dynamic Variable updates are implemented across all dependent LSAM functions by additional program recompiles. These PTFs also introduce the following enhancements to the IBM i LSAM Dynamic Variables: 1. Function Code *DATE changes, 2. Function Code *TIME, 3. Function Code *SYSVAL, 4. *DATE and *TIME math, 5. Trimming character values of Dynamic Variables, or 6. Nested Dynamic Variables tokens |
| Enhancement      | (#403343) The IBM i LSAM Object Authority maintenance tools are enhanced to accept the names of Authorization Lists for any User 1 through 3 on an object authority master record. Entering a value of *AUTL in the AUTH field tells the LSAM to handle the User Name as the name of an Authorization List. Maintenance of users assigned to an authorization list is managed by the LSAM Administrator using IBM i native commands. An  Authorization List is a good strategy to use when configuring a “power user” in OpCon, or a designated LSAM Administrator profile, that may need to execute LSAM utility commands that are not already authorized for *PUBLIC *USE. |
| Enhancement      | (#403346) The IBM i LSAM Job Tracking function will no longer leave copies of false error message CPF1015 in every job log when optional data areas (CAPJOBS, TRKJOBDBUG) are not found. This helps prevent confusion when diagnosing any real failure of the Job Tracking function. |
| Enhancement      | (#403352) The IBM i LSAM utility command CMDEXE2 has been enhanced to provide improved support and error management for QSHELL commands. EXAMPLE, showing direct QSH command insertion and the new QSHCMD parameter: ``` CMDEXE2 CMD('LS > list.txt') QSHCMD ('Y')```  - or - ```CMDEXE2 CMD('LS > list.txt') QSHCMD ('1')``` |
| Enhancement      | (#403359 - 403361) The IBM i LSAM File Arrival execution commands, CHKFILE and CHKIFSFIL, have been enhanced to support automatic allocation of the LSAM environment library list, which simplifies the strategy for supporting File Arrival jobs. These PTFs also instate new adopted authority of the SMANET user for the commands and the command driver programs, so that any IBM i user with authority to use either command will automatically have all authority necessary to use the LSAM files and other objects required by these File Arrival job commands. There are no user-defined options included in this strategy. Instead, the new data area SMAENVREF that is now being utilized by the File Arrival commands and programs in the SMAPGM program objects library can also be utilized by SMA programmers who need to enable other LSAM utility commands to allocate the LSAM library list without requiring that those commands be hosted by the wrapper command LSAMCMD. LSAM users do still have an ability to use the LSAMCMD wrapper command, for the purposes documented in the IBM i Agent User Help. |
| Enhancement      | (#403362) The IBM i LSAM LOGDYNVAR utility command is enhanced with new options for the VALUE parameter: The special value of *DYNVAR  points to the name of the Dynamic Variable specified in the command’s first parameter, so that the value being stored in the LOGDYNVAR table will be pulled from the named Dynamic Variable at run time. In addition, the VALUE, CODE and DESC keywords will now support one or more Dynamic Variable {TOKENS} with or without other text in those fields. The tokens will be replaced by their values as the LOGDYNVAR command is being executed. These enhancements make the LOGDYNVAR command useful outside of the LSAM Response Rules. |